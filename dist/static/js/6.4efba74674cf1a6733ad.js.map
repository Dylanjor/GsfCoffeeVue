{"version":3,"sources":["webpack:///src/components/Commodity.vue","webpack:///./src/components/Commodity.vue?9d65","webpack:///./src/components/Commodity.vue"],"names":["Commodity","inject","name","data","tableData","Options","SelectValue","needLoadingRequestCount","methods","parmTableData","that","this","loadingInstance","element_ui_common","service","lock","text","background","target","document","querySelector","$","ajax","type","url","api","baseURL","ProdSpec","success","response","result","items","$nextTick","close","parmOptions","id","dateFormat","row","column","date","Date","property","undefined","Object","moment","format","dateFormatSelling","handleDelete","index","$confirm","confirmButtonText","cancelButtonText","then","$axios","method","$message","message","reload","catch","error","console","log","created","components_Commodity","render","_vm","_h","$createElement","_c","_self","attrs","_v","placeholder","on","change","model","value","callback","$$v","expression","_l","item","key","label","typeName","staticStyle","width","border","stripe","fixed","prop","align","scopedSlots","_u","fn","scope","src","commImage","alt","formatter","sortablealign","size","click","$event","$index","height","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/6.4efba74674cf1a6733ad.js","sourcesContent":["<template>\r\n<div id=\"com\">\r\n  类别：\r\n  <el-select v-model=\"SelectValue\" placeholder=\"请选择类别\" @change ='parmTableData'>\r\n    <el-option\r\n      v-for=\"item in Options\"\r\n      :key=\"item.id\"\r\n      :label=\"item.typeName\"\r\n      :value=\"item.id\" >\r\n    </el-option>\r\n  </el-select>\r\n   <el-table :data=\"tableData\" border stripe style=\"width: 100%\">\r\n      <el-table-column label=\"id\" fixed prop=\"id\" align=\"center\" ></el-table-column>\r\n      <el-table-column label=\"名字\" fixed prop=\"commodityName\" align=\"center\"></el-table-column>\r\n      <el-table-column label=\"图片\" prop=\"\" align=\"center\" >\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.commImage\" alt=\"\" width=\"50%\">\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"售价\" prop=\"sellingPrice\" align=\"center\" :formatter=\"dateFormatSelling\"></el-table-column>\r\n      <el-table-column label=\"描述\" prop=\"desc\" align=\"center\"> </el-table-column>\r\n      <el-table-column label=\"创建时间\" prop=\"createTime\" align=\"center\" :formatter=\"dateFormat\" sortablealign=\"center\"></el-table-column>\r\n        <el-table-column fixed=\"right\"  align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\">修改</el-button>\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n            </template>\r\n        </el-table-column>\r\n    </el-table>\r\n    <canvas width=\"1920\" height=\"937\"></canvas>\r\n</div>\r\n</template>\r\n<script lang=\"js\">\r\n// eslint-disable-next-line no-unused-vars\r\n// eslint-disable-next-line standard/object-curly-even-spacing\r\n// eslint-disable-next-line no-unused-vars\r\nimport { Loading, Message } from 'element-ui'\r\nimport moment from 'moment'\r\nexport default({\r\n  inject: ['reload'],\r\n  name: 'CommModity',\r\n  data: function () {\r\n    return {\r\n      tableData: [],\r\n      Options: [],\r\n      SelectValue: '',\r\n      needLoadingRequestCount: 0\r\n    }\r\n  },\r\n  methods: {\r\n    parmTableData () {\r\n      var that = this\r\n      let loadingInstance = Loading.service({\r\n        lock: true,\r\n        text: 'Loading...',\r\n        background: 'rgba(0,0,0,0.1)',\r\n        target: document.querySelector('#app div')\r\n      })\r\n      this.$.ajax({\r\n        type: 'POST',\r\n        url: that.api.baseURL + 'Commodity/GetAllComm',\r\n        data: {ProdSpec: that.SelectValue},\r\n        success: function (response) {\r\n          that.tableData = response.result.items\r\n          that.$nextTick(() => {\r\n            that.tableData = response.result.items\r\n            loadingInstance.close()\r\n          })\r\n        }\r\n      })\r\n    },\r\n    parmOptions () {\r\n      var that = this\r\n      this.$.ajax({\r\n        type: 'POST',\r\n        url: that.api.baseURL + 'ProdSpec/GetAllList',\r\n        success: function (response) {\r\n          that.Options = response.result.items\r\n          that.SelectValue = that.Options[0].id\r\n          let loadingInstance = Loading.service({\r\n            lock: true,\r\n            text: 'Loading...',\r\n            background: 'rgba(0,0,0,0.1)',\r\n            target: document.querySelector('#app #com')\r\n          })\r\n          that.$.ajax({\r\n            type: 'POST',\r\n            url: that.api.baseURL + 'Commodity/GetAllComm',\r\n            data: {ProdSpec: that.Options[0].id},\r\n            success: function (response) {\r\n              that.tableData = response.result.items\r\n              that.$nextTick(() => {\r\n                that.tableData = response.result.items\r\n                loadingInstance.close()\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    dateFormat (row, column) {\r\n      const date = new Date(row[column.property])\r\n      if (date === undefined) { return '' }\r\n      return moment(date).format('YYYY-MM-DD')\r\n    },\r\n    dateFormatSelling (row, column) {\r\n      const Selling = row[column.property]\r\n      return Selling + '元'\r\n    },\r\n    handleDelete (index, row) {\r\n      var that = this\r\n      this.$confirm('此操作将永久删除此信息, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        that.$axios({\r\n          method: 'GET',\r\n          url: that.api.baseURL + 'Commodity/DeleteComm?CommId=' + row.id\r\n        }).then((response) => { // 这里使用了ES6的语法\r\n          that.$message({\r\n            type: 'warning',\r\n            message: '删除成功'\r\n          })\r\n          that.reload()\r\n        }).catch((error) =>\r\n          console.log(error) // 请求失败返回的数据\r\n        )\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.parmOptions()\r\n  }\r\n\r\n})\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Commodity.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"com\"}},[_vm._v(\"\\r\\n  类别：\\r\\n  \"),_c('el-select',{attrs:{\"placeholder\":\"请选择类别\"},on:{\"change\":_vm.parmTableData},model:{value:(_vm.SelectValue),callback:function ($$v) {_vm.SelectValue=$$v},expression:\"SelectValue\"}},_vm._l((_vm.Options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.typeName,\"value\":item.id}})}),1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"id\",\"fixed\":\"\",\"prop\":\"id\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"名字\",\"fixed\":\"\",\"prop\":\"commodityName\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"图片\",\"prop\":\"\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{attrs:{\"src\":scope.row.commImage,\"alt\":\"\",\"width\":\"50%\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"售价\",\"prop\":\"sellingPrice\",\"align\":\"center\",\"formatter\":_vm.dateFormatSelling}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"描述\",\"prop\":\"desc\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"prop\":\"createTime\",\"align\":\"center\",\"formatter\":_vm.dateFormat,\"sortablealign\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('canvas',{attrs:{\"width\":\"1920\",\"height\":\"937\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1315be98\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Commodity.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Commodity.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Commodity.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1315be98\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Commodity.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Commodity.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}