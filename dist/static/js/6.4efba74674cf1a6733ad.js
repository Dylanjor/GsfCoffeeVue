webpackJsonp([6],{GaNR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("zL8q"),l=a("4M5V"),r={inject:["reload"],name:"CommModity",data:function(){return{tableData:[],Options:[],SelectValue:"",needLoadingRequestCount:0}},methods:{parmTableData:function(){var e=this,t=n.Loading.service({lock:!0,text:"Loading...",background:"rgba(0,0,0,0.1)",target:document.querySelector("#app div")});this.$.ajax({type:"POST",url:e.api.baseURL+"Commodity/GetAllComm",data:{ProdSpec:e.SelectValue},success:function(a){e.tableData=a.result.items,e.$nextTick(function(){e.tableData=a.result.items,t.close()})}})},parmOptions:function(){var e=this;this.$.ajax({type:"POST",url:e.api.baseURL+"ProdSpec/GetAllList",success:function(t){e.Options=t.result.items,e.SelectValue=e.Options[0].id;var a=n.Loading.service({lock:!0,text:"Loading...",background:"rgba(0,0,0,0.1)",target:document.querySelector("#app #com")});e.$.ajax({type:"POST",url:e.api.baseURL+"Commodity/GetAllComm",data:{ProdSpec:e.Options[0].id},success:function(t){e.tableData=t.result.items,e.$nextTick(function(){e.tableData=t.result.items,a.close()})}})}})},dateFormat:function(e,t){var a=new Date(e[t.property]);return void 0===a?"":Object(l.a)(a).format("YYYY-MM-DD")},dateFormatSelling:function(e,t){return e[t.property]+"元"},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除此信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios({method:"GET",url:a.api.baseURL+"Commodity/DeleteComm?CommId="+t.id}).then(function(e){a.$message({type:"warning",message:"删除成功"}),a.reload()}).catch(function(e){return console.log(e)})})}},created:function(){this.parmOptions()}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"com"}},[e._v("\r\n  类别：\r\n  "),a("el-select",{attrs:{placeholder:"请选择类别"},on:{change:e.parmTableData},model:{value:e.SelectValue,callback:function(t){e.SelectValue=t},expression:"SelectValue"}},e._l(e.Options,function(e){return a("el-option",{key:e.id,attrs:{label:e.typeName,value:e.id}})}),1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"id",fixed:"",prop:"id",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"名字",fixed:"",prop:"commodityName",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"图片",prop:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:e.row.commImage,alt:"",width:"50%"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"售价",prop:"sellingPrice",align:"center",formatter:e.dateFormatSelling}}),e._v(" "),a("el-table-column",{attrs:{label:"描述",prop:"desc",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime",align:"center",formatter:e.dateFormat,sortablealign:"center"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("canvas",{attrs:{width:"1920",height:"937"}})],1)},staticRenderFns:[]},i=a("VU/8")(r,o,!1,null,null,null);t.default=i.exports}});
//# sourceMappingURL=6.4efba74674cf1a6733ad.js.map